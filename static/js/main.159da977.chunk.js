(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){},243:function(e,t,n){e.exports=n(594)},326:function(e,t,n){},583:function(e,t,n){},594:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),s=n.n(r),i=(n(326),n(139)),c=n(42),l=n(43),u=n(46),h=n(44),m=n(47),d=n(1),b=(n(174),n(232)),C=n.n(b),p=n(233),f=n.n(p),v=n(234),E=n.n(v)()(d),g=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e,n))).hoverColor="#691919",a.selectedColor="#a50909",a.mouse=new d.Vector2,a.raycaster=new d.Raycaster,a.cameraVectoring=new d.Vector3(0,0,0),a.lightPosition=new d.Vector3(3,13,16),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.rendererElement=s.a.findDOMNode(this.refs.renderer);var t=new E(this.refs.camera,this.rendererElement);t.addEventListener("change",function(t){e.props.onCameraChange(t.target.object.position)}),this.controls=t,this.rendererElement.addEventListener("mousemove",function(t){e.onMouseMove(t)},!1),this.rendererElement.addEventListener("mousedown",function(t){e.onMouseDown(t)},!1)}},{key:"componentWillUnmount",value:function(){this.controls.dispose(),delete this.controls,this.rendererElement.removeEventListener("mousemove"),this.rendererElement.removeEventListener("mousedown")}},{key:"getObjectsUnderMouse",value:function(e){return this.mouse.x=e.clientX/this.props.containerWidth*2-1,this.mouse.y=-(e.clientY-this.rendererElement.getBoundingClientRect().y)/this.props.containerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.refs.camera),this.raycaster.intersectObjects(this.refs.scene.children,!1)}},{key:"onMouseDown",value:function(e){var t=this.getObjectsUnderMouse(e);t[0]&&this.props.onCubeSelect(t[0].object.name)}},{key:"onMouseMove",value:function(e){var t=this.getObjectsUnderMouse(e);t[0]?this.props.onCubeHover(t[0].object.name):this.props.onCubeHover(null)}},{key:"render",value:function(){var e=this,t=this.props.cameraPosition,n=this.props.containerWidth,a=this.props.containerHeight,r=this.props.cubeSize,s=this.props.cubes.map(function(t){var n=t.color,a=t.id.toString();return e.props.selectedCubeId===a?n=e.selectedColor:e.props.hoveredCubeId===a&&(n=e.hoverColor),o.a.createElement("mesh",{key:t.id,position:t.position,name:a},o.a.createElement("boxGeometry",{depth:r,height:r,width:r}),o.a.createElement("meshLambertMaterial",{color:n}))});return o.a.createElement(f.a,{antialias:!0,clearColor:2960685,height:a,mainCamera:"mainCamera",ref:"renderer",width:n},o.a.createElement("scene",{ref:"scene"},o.a.createElement("perspectiveCamera",{aspect:n/a,far:1e3,fov:55,lookAt:this.cameraVectoring,name:"mainCamera",near:.1,position:t,ref:"camera"}),o.a.createElement("ambientLight",{color:16777215}),o.a.createElement("pointLight",{color:16777215,intensity:.7,position:this.lightPosition}),s))}}]),t}(a.Component),S=C()({containerStyle:{position:"absolute",left:0,right:0,top:0,bottom:0}})(g),y=n(601),O=n(98),j=n(595),k=n(600),R=n(599),z=n(137),I=n(598),w=n(225),N=n(235),M=(n(583),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"controls-row"},o.a.createElement(y.a,{icon:"plus",intent:O.a.PRIMARY,large:!0,onClick:this.props.onAddCube}),o.a.createElement("span",{className:"primary-text ellipsed-text",style:{paddingLeft:24,paddingRight:18}},"Cubes in scene: ",this.props.cubeCount),o.a.createElement(y.a,{disabled:this.props.isCameraDefault,rightIcon:"refresh",minimal:!0,onClick:this.props.onResetCamera,text:"Camera",style:{marginRight:-4}}))}}]),t}(a.Component)),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"controls-row"},o.a.createElement(j.a,{icon:"symbol-square",iconSize:17}),o.a.createElement("div",{className:"slider-container"},o.a.createElement(k.a,{labelStepSize:9,labelRenderer:!1,max:10.5,min:.5,onChange:this.props.onValueChange,stepSize:.1,value:this.props.value})),o.a.createElement(j.a,{icon:"symbol-square",iconSize:40}),o.a.createElement(y.a,{disabled:this.props.isDefaultValue,icon:"refresh",minimal:!0,onClick:this.props.onResetValue}))}}]),t}(a.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedCubeId;return o.a.createElement("div",{className:"active-obj-controls"},o.a.createElement("div",{className:"controls-row"},o.a.createElement("span",{className:"primary-text ellipsed-text"}," Active Cube"),o.a.createElement("span",null,o.a.createElement("span",{className:"primary-text"},"ID:")," ",t," ")),o.a.createElement("div",{className:"controls-row"},o.a.createElement(R.a,{position:z.a.BOTTOM_LEFT},o.a.createElement(y.a,{className:"color-button",icon:"tint",intent:O.a.WARNING,style:{backgroundColor:this.props.selectedCubeColor}}),o.a.createElement("div",null,o.a.createElement(N.ChromePicker,{disableAlpha:!0,color:this.props.selectedCubeColor,onChangeComplete:function(n){e.props.onCubeColorChange(t,n)}}))),o.a.createElement(R.a,{position:z.a.BOTTOM_RIGHT},o.a.createElement(y.a,{icon:"trash",intent:O.a.DANGER,minimal:!0}),o.a.createElement("div",{className:"popover-content"},o.a.createElement(I.a,null,"Confirm Deletion"),o.a.createElement("p",null,"Are you sure you want to delete this?"),o.a.createElement("div",{className:"popover-buttons"},o.a.createElement(y.a,{className:w.a.POPOVER_DISMISS,style:{marginRight:10}},"Cancel"),o.a.createElement(y.a,{intent:O.a.DANGER,className:w.a.POPOVER_DISMISS,onClick:function(){return e.props.onRemoveCube(t)}},"Delete"))))))}}]),t}(a.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.selectedCubeId;return o.a.createElement("div",{className:"scene-controls"},o.a.createElement(M,{cubeCount:this.props.cubeCount,onAddCube:this.props.onAddCube,onResetCamera:this.props.onResetCamera,isCameraDefault:this.props.isCameraDefault}),o.a.createElement(P,{isDefaultValue:this.props.isCubeDefaultSize,onResetValue:this.props.onResetCubeSize,onValueChange:this.props.onCubeSizeChange,value:this.props.cubeSize}),e&&o.a.createElement(A,{onCubeColorChange:this.props.onCubeColorChange,onRemoveCube:this.props.onRemoveCube,selectedCubeColor:this.props.selectedCubeColor,selectedCubeId:e}))}}]),t}(a.Component),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).defaultCubeSize=5.5,n.defaultCameraPosition=new d.Vector3(30,24,45),n.idCounter=0,n.state={cameraPosition:n.defaultCameraPosition,cubes:[],cubeSize:n.defaultCubeSize,hoveredCubeId:null,selectedCubeColor:"",selectedCubeId:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"generateCube",value:function(){var e={color:this.randomColorHex(),id:this.idCounter,position:this.randomPosition()};return this.idCounter++,e}},{key:"handleAddCube",value:function(){var e=this.state.cubes.slice();this.setState({cubes:e.concat([this.generateCube()])})}},{key:"handleCameraChange",value:function(e){this.setState({cameraPosition:e.clone()})}},{key:"handleCubeColorChange",value:function(e,t){for(var n=Object(i.a)(this.state.cubes),a=0;a<n.length;a++)if(n[a].id.toString()===e){n[a].color=t.hex;break}this.setState({cubes:n,selectedCubeColor:t.hex})}},{key:"handleCubeHover",value:function(e){e!==this.state.hoveredCubeId&&this.setState({hoveredCubeId:e})}},{key:"handleCubeSelect",value:function(e){if(e!==this.state.selectedCubeId){for(var t,n=0;n<this.state.cubes.length;n++)if(this.state.cubes[n].id.toString()===e){t=this.state.cubes[n].color;break}this.setState({selectedCubeId:e,selectedCubeColor:t})}}},{key:"handleCubeSizeChange",value:function(e){this.setState({cubeSize:e})}},{key:"handleRemoveCube",value:function(e){for(var t,n=Object(i.a)(this.state.cubes),a=0;a<n.length;a++)if(n[a].id.toString()===e){t=a;break}null!=t&&(n.splice(t,1),this.setState({cubes:n,selectedCubeId:null}))}},{key:"handleResetCamera",value:function(){this.setState({cameraPosition:this.defaultCameraPosition.clone()})}},{key:"handleResetCubeSize",value:function(){this.setState({cubeSize:this.defaultCubeSize})}},{key:"randomColorHex",value:function(){return"#"+this.randomRGBAsHex()+this.randomRGBAsHex()+this.randomRGBAsHex()}},{key:"randomPosition",value:function(){return new d.Vector3(40*Math.random()-20,40*Math.random()-20,40*Math.random()-20)}},{key:"randomRGBAsHex",value:function(){var e=Number(Math.floor(256*Math.random())).toString(16);return e.length<2?"0"+e:e}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App",ref:function(t){e.container=t}},o.a.createElement(D,{cubeCount:this.state.cubes.length,cubeSize:this.state.cubeSize,isCameraDefault:this.state.cameraPosition.equals(this.defaultCameraPosition),isCubeDefaultSize:this.state.cubeSize===this.defaultCubeSize,onAddCube:function(){e.handleAddCube()},onCubeColorChange:function(t,n){e.handleCubeColorChange(t,n)},onCubeSizeChange:function(t){e.handleCubeSizeChange(t)},onRemoveCube:function(t){e.handleRemoveCube(t)},onResetCamera:function(){e.handleResetCamera()},onResetCubeSize:function(){e.handleResetCubeSize()},selectedCubeColor:this.state.selectedCubeColor,selectedCubeId:this.state.selectedCubeId}),o.a.createElement("div",{className:"scene-container"},o.a.createElement(S,{cameraPosition:this.state.cameraPosition,cubes:this.state.cubes,cubeSize:this.state.cubeSize,hoveredCubeId:this.state.hoveredCubeId,onCameraChange:function(t){e.handleCameraChange(t)},onCubeHover:function(t){e.handleCubeHover(t)},onCubeSelect:function(t){e.handleCubeSelect(t)},selectedCubeId:this.state.selectedCubeId})))}}]),t}(a.Component);s.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[243,2,1]]]);
//# sourceMappingURL=main.159da977.chunk.js.map