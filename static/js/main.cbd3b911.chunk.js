(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){},243:function(e,t,n){e.exports=n(592)},326:function(e,t,n){},592:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),s=n.n(r),i=(n(326),n(139)),c=n(46),l=n(47),u=n(49),h=n(48),m=n(50),d=(n(174),n(232)),b=n.n(d),C=n(1),p=n(233),f=n.n(p),v=n(234),E=n.n(v),S=f()(C),g=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e,n))).hoverColor="#691919",a.selectedColor="#a50909",a.mouse=new C.Vector2,a.raycaster=new C.Raycaster,a.cameraVectoring=new C.Vector3(0,0,0),a.lightPosition=new C.Vector3(3,13,16),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.rendererElement=s.a.findDOMNode(this.refs.renderer);var t=new S(this.refs.camera,this.rendererElement);t.addEventListener("change",function(t){e.props.onCameraChange(t.target.object.position)}),this.controls=t,this.rendererElement.addEventListener("mousemove",function(t){e.onMouseMove(t)},!1),this.rendererElement.addEventListener("mousedown",function(t){e.onMouseDown(t)},!1)}},{key:"componentWillUnmount",value:function(){this.controls.dispose(),delete this.controls,this.rendererElement.removeEventListener("mousemove"),this.rendererElement.removeEventListener("mousedown")}},{key:"onMouseDown",value:function(e){var t=this.getObjectsUnderMouse(e);t[0]&&this.props.onCubeSelect(t[0].object.name)}},{key:"onMouseMove",value:function(e){var t=this.getObjectsUnderMouse(e);t[0]?this.props.onCubeHover(t[0].object.name):this.props.onCubeHover(null)}},{key:"getObjectsUnderMouse",value:function(e){return this.mouse.x=e.clientX/this.props.containerWidth*2-1,this.mouse.y=-(e.clientY-this.rendererElement.getBoundingClientRect().y)/this.props.containerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.refs.camera),this.raycaster.intersectObjects(this.refs.scene.children,!1)}},{key:"render",value:function(){var e=this,t=this.props.containerWidth,n=this.props.containerHeight,a=this.props.cubeSize,r=this.props.cameraPosition,s=this.props.cubes.map(function(t){var n=t.color,r=t.id.toString();return e.props.selectedCubeId===r?n=e.selectedColor:e.props.hoveredCubeId===r&&(n=e.hoverColor),o.a.createElement("mesh",{key:t.id,position:t.position,name:r},o.a.createElement("boxGeometry",{width:a,height:a,depth:a}),o.a.createElement("meshLambertMaterial",{color:n}))});return o.a.createElement(b.a,{antialias:!0,clearColor:2960685,mainCamera:"mainCamera",width:t,height:n,ref:"renderer"},o.a.createElement("scene",{ref:"scene"},o.a.createElement("perspectiveCamera",{name:"mainCamera",fov:55,aspect:t/n,near:.1,far:1e3,ref:"camera",lookAt:this.cameraVectoring,position:r}),o.a.createElement("ambientLight",{color:16777215}),o.a.createElement("pointLight",{color:16777215,position:this.lightPosition,intensity:.7}),s))}}]),t}(a.Component),y=E()({containerStyle:{position:"absolute",left:0,right:0,top:0,bottom:0}})(g),O=n(599),j=n(593),k=n(598),R=n(597),z=n(137),I=n(98),w=n(596),N=n(225),M=n(235),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"controls-row"},o.a.createElement(O.a,{icon:"plus",large:!0,onClick:this.props.onAddCube}),o.a.createElement("span",{className:"primary-text ellipsed-text"},this.props.cubeCount," cubes in scene"),o.a.createElement(O.a,{disabled:this.props.isCameraDefault,icon:"refresh",minimal:!0,onClick:this.props.onResetCamera}))}}]),t}(a.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"controls-row"},o.a.createElement(j.a,{icon:"symbol-square",iconSize:17}),o.a.createElement("div",{className:"slider-container"},o.a.createElement(k.a,{min:.2,max:10,stepSize:.1,labelStepSize:9,labelRenderer:!1,onChange:this.props.onValueChange,value:this.props.value})),o.a.createElement(j.a,{icon:"symbol-square",iconSize:40}),o.a.createElement(O.a,{disabled:this.props.isDefaultValue,icon:"refresh",minimal:!0,onClick:this.props.onResetValue}))}}]),t}(a.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedCubeId;return o.a.createElement("div",{className:"active-obj-controls"},o.a.createElement("div",{className:"controls-row"},o.a.createElement("span",{className:"primary-text ellipsed-text"}," Active Cube"),o.a.createElement("span",null,o.a.createElement("span",{className:"primary-text"},"ID:")," ",t," ")),o.a.createElement("div",{className:"controls-row"},o.a.createElement(R.a,{position:z.a.BOTTOM_LEFT},o.a.createElement(O.a,{icon:"tint",intent:I.a.WARNING,className:"color-button",style:{backgroundColor:this.props.selectedCubeColor}}),o.a.createElement("div",null,o.a.createElement(M.ChromePicker,{disableAlpha:!0,color:this.props.selectedCubeColor,onChangeComplete:function(n){e.props.onCubeColorChange(t,n)}}))),o.a.createElement(R.a,{position:z.a.BOTTOM_RIGHT},o.a.createElement(O.a,{icon:"trash",intent:I.a.DANGER,minimal:!0}),o.a.createElement("div",{key:"text",className:"popover-content"},o.a.createElement(w.a,null,"Confirm Deletion"),o.a.createElement("p",null,"Are you sure you want to delete this?"),o.a.createElement("div",{className:"popover-buttons"},o.a.createElement(O.a,{className:N.a.POPOVER_DISMISS,style:{marginRight:10}},"Cancel"),o.a.createElement(O.a,{intent:I.a.DANGER,className:N.a.POPOVER_DISMISS,onClick:function(){return e.props.onRemoveCube(t)}},"Delete"))))))}}]),t}(a.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.selectedCubeId;return o.a.createElement("div",{className:"scene-controls"},o.a.createElement(P,{cubeCount:this.props.cubeCount,onAddCube:this.props.onAddCube,onResetCamera:this.props.onResetCamera,isCameraDefault:this.props.isCameraDefault}),o.a.createElement(D,{value:this.props.cubeSize,isDefaultValue:this.props.isCubeDefaultSize,onValueChange:this.props.onCubeSizeChange,onResetValue:this.props.onResetCubeSize}),e&&o.a.createElement(x,{selectedCubeColor:this.props.selectedCubeColor,selectedCubeId:e,onCubeColorChange:this.props.onCubeColorChange,onRemoveCube:this.props.onRemoveCube}))}}]),t}(a.Component),V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).idCounter=0,n.defaultCubeSize=2,n.defaultCameraPosition=new C.Vector3(10,8,15),n.state={cameraPosition:n.defaultCameraPosition,cubes:[],cubeSize:n.defaultCubeSize,hoveredCubeId:null,selectedCubeColor:"",selectedCubeId:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"generateCube",value:function(){var e={color:this.randomColorHex(),id:this.idCounter,position:this.randomPosition()};return this.idCounter++,e}},{key:"randomColorHex",value:function(){return"#"+this.randomRGBAsHex()+this.randomRGBAsHex()+this.randomRGBAsHex()}},{key:"randomRGBAsHex",value:function(){var e=Number(Math.floor(256*Math.random())).toString(16);return e.length<2?"0"+e:e}},{key:"randomPosition",value:function(){return new C.Vector3(14*Math.random()-7,14*Math.random()-7,14*Math.random()-7)}},{key:"handleCameraChange",value:function(e){this.setState({cameraPosition:e.clone()})}},{key:"handleCubeColorChange",value:function(e,t){for(var n=Object(i.a)(this.state.cubes),a=0;a<n.length;a++)if(n[a].id.toString()===e){n[a].color=t.hex;break}this.setState({cubes:n,selectedCubeColor:t.hex})}},{key:"handleCubeSizeChange",value:function(e){this.setState({cubeSize:e})}},{key:"handleCubeHover",value:function(e){e!==this.state.hoveredCubeId&&this.setState({hoveredCubeId:e})}},{key:"handleCubeSelect",value:function(e){if(e!==this.state.selectedCubeId){for(var t,n=0;n<this.state.cubes.length;n++)if(this.state.cubes[n].id.toString()===e){t=this.state.cubes[n].color;break}this.setState({selectedCubeId:e,selectedCubeColor:t})}}},{key:"handleResetCamera",value:function(){this.setState({cameraPosition:this.defaultCameraPosition.clone()})}},{key:"handleResetCubeSize",value:function(){this.setState({cubeSize:this.defaultCubeSize})}},{key:"handleAddCube",value:function(){var e=this.state.cubes.slice();this.setState({cubes:e.concat([this.generateCube()])})}},{key:"handleRemoveCube",value:function(e){for(var t,n=Object(i.a)(this.state.cubes),a=0;a<n.length;a++)if(n[a].id.toString()===e){t=a;break}null!=t&&(n.splice(t,1),this.setState({cubes:n,selectedCubeId:null}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App",ref:function(t){e.container=t}},o.a.createElement(A,{cubeCount:this.state.cubes.length,cubeSize:this.state.cubeSize,isCameraDefault:this.state.cameraPosition.equals(this.defaultCameraPosition),isCubeDefaultSize:this.state.cubeSize===this.defaultCubeSize,onAddCube:function(){e.handleAddCube()},onCubeColorChange:function(t,n){e.handleCubeColorChange(t,n)},onCubeSizeChange:function(t){e.handleCubeSizeChange(t)},onRemoveCube:function(t){e.handleRemoveCube(t)},onResetCamera:function(){e.handleResetCamera()},onResetCubeSize:function(){e.handleResetCubeSize()},selectedCubeColor:this.state.selectedCubeColor,selectedCubeId:this.state.selectedCubeId}),o.a.createElement("div",{className:"scene-container"},o.a.createElement(y,{cameraPosition:this.state.cameraPosition,cubes:this.state.cubes,cubeSize:this.state.cubeSize,hoveredCubeId:this.state.hoveredCubeId,selectedCubeId:this.state.selectedCubeId,onCameraChange:function(t){e.handleCameraChange(t)},onCubeHover:function(t){e.handleCubeHover(t)},onCubeSelect:function(t){e.handleCubeSelect(t)}})))}}]),t}(a.Component);s.a.render(o.a.createElement(V,null),document.getElementById("root"))}},[[243,2,1]]]);
//# sourceMappingURL=main.cbd3b911.chunk.js.map